<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Create a pull request for changes in multiple repositories — pr_create • multideploy</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create a pull request for changes in multiple repositories — pr_create"><meta name="description" content="This function creates pull requests across multiple GitHub repositories, applying
the same set of file changes to each repository. It can create new branches as needed,
add or update files, and then open pull requests."><meta property="og:description" content="This function creates pull requests across multiple GitHub repositories, applying
the same set of file changes to each repository. It can create new branches as needed,
add or update files, and then open pull requests."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">multideploy</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/multideploy.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/coatless-rpkg/multideploy/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Create a pull request for changes in multiple repositories</h1>
      <small class="dont-index">Source: <a href="https://github.com/coatless-rpkg/multideploy/blob/main/R/pr.R" class="external-link"><code>R/pr.R</code></a></small>
      <div class="d-none name"><code>pr_create.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function creates pull requests across multiple GitHub repositories, applying
the same set of file changes to each repository. It can create new branches as needed,
add or update files, and then open pull requests.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">pr_create</span><span class="op">(</span></span>
<span>  <span class="va">repos</span>,</span>
<span>  <span class="va">branch_name</span>,</span>
<span>  base_branch <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">title</span>,</span>
<span>  <span class="va">body</span>,</span>
<span>  create_branch <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">file_mapping</span>,</span>
<span>  dry_run <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  quiet <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-repos">repos<a class="anchor" aria-label="anchor" href="#arg-repos"></a></dt>
<dd><p>Data frame of repositories as returned by <code><a href="repos.html">repos()</a></code>, with at least
columns for <code>full_name</code> and <code>default_branch</code></p></dd>


<dt id="arg-branch-name">branch_name<a class="anchor" aria-label="anchor" href="#arg-branch-name"></a></dt>
<dd><p>Character string with the name of the branch to create for the changes</p></dd>


<dt id="arg-base-branch">base_branch<a class="anchor" aria-label="anchor" href="#arg-base-branch"></a></dt>
<dd><p>Character string with the name of the base branch. Default is NULL (uses default branch).</p></dd>


<dt id="arg-title">title<a class="anchor" aria-label="anchor" href="#arg-title"></a></dt>
<dd><p>Character string with the PR title</p></dd>


<dt id="arg-body">body<a class="anchor" aria-label="anchor" href="#arg-body"></a></dt>
<dd><p>Character string with the PR description</p></dd>


<dt id="arg-create-branch">create_branch<a class="anchor" aria-label="anchor" href="#arg-create-branch"></a></dt>
<dd><p>Logical indicating whether to create the branch if it doesn't exist. Default is TRUE.</p></dd>


<dt id="arg-file-mapping">file_mapping<a class="anchor" aria-label="anchor" href="#arg-file-mapping"></a></dt>
<dd><p>List mapping local file paths to repository paths, as created by <code><a href="file_mapping.html">file_mapping()</a></code></p></dd>


<dt id="arg-dry-run">dry_run<a class="anchor" aria-label="anchor" href="#arg-dry-run"></a></dt>
<dd><p>Logical indicating whether to only simulate the changes. Default is FALSE.</p></dd>


<dt id="arg-quiet">quiet<a class="anchor" aria-label="anchor" href="#arg-quiet"></a></dt>
<dd><p>Logical; if TRUE, suppresses progress and status messages. Default is FALSE.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Returns a <code>data.frame</code> with class <code>"pr_create_result"</code> containing the following columns:</p>
<dl><dt>repository</dt>
<dd><p>Character, the full repository name (owner/repo)</p></dd>

<dt>pr_url</dt>
<dd><p>Character, the URL of the created pull request, or NA if no PR was created</p></dd>

<dt>status</dt>
<dd><p>Character, indicating the operation result: "created", "would_create",
"skipped", or "error"</p></dd>

<dt>message</dt>
<dd><p>Character, a description of the action taken or error encountered</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="print.pr_create_result.html">print.pr_create_result()</a></code> to display the results in a formatted way.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># interactive()</span></span></span>
<span class="r-in"><span><span class="co"># Get repositories and create file mapping</span></span></span>
<span class="r-in"><span><span class="va">repositories</span> <span class="op">&lt;-</span> <span class="fu"><a href="repos.html">repos</a></span><span class="op">(</span><span class="st">"my-organization"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mapping</span> <span class="op">&lt;-</span> <span class="fu"><a href="file_mapping.html">file_mapping</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"local/path/file1.R"</span> <span class="op">=</span> <span class="st">".github/workflows/ci.yml"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"local/path/file2.R"</span> <span class="op">=</span> <span class="st">"R/utils.R"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create pull requests in all repositories</span></span></span>
<span class="r-in"><span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu">pr_create</span><span class="op">(</span></span></span>
<span class="r-in"><span>  repos <span class="op">=</span> <span class="va">repositories</span>, </span></span>
<span class="r-in"><span>  branch_name <span class="op">=</span> <span class="st">"feature-branch"</span>, </span></span>
<span class="r-in"><span>  title <span class="op">=</span> <span class="st">"Update CI workflow"</span>, </span></span>
<span class="r-in"><span>  body <span class="op">=</span> <span class="st">"Standardizing CI workflow across repositories"</span>, </span></span>
<span class="r-in"><span>  file_mapping <span class="op">=</span> <span class="va">mapping</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Simulate without making actual changes</span></span></span>
<span class="r-in"><span><span class="va">dry_run_results</span> <span class="op">&lt;-</span> <span class="fu">pr_create</span><span class="op">(</span></span></span>
<span class="r-in"><span>  repos <span class="op">=</span> <span class="va">repositories</span>, </span></span>
<span class="r-in"><span>  branch_name <span class="op">=</span> <span class="st">"feature-branch"</span>, </span></span>
<span class="r-in"><span>  title <span class="op">=</span> <span class="st">"Update documentation"</span>, </span></span>
<span class="r-in"><span>  body <span class="op">=</span> <span class="st">"Updating documentation with new examples"</span>, </span></span>
<span class="r-in"><span>  file_mapping <span class="op">=</span> <span class="va">mapping</span>,</span></span>
<span class="r-in"><span>  dry_run <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Only create PRs in repositories where the branch already exists</span></span></span>
<span class="r-in"><span><span class="va">existing_branch_results</span> <span class="op">&lt;-</span> <span class="fu">pr_create</span><span class="op">(</span></span></span>
<span class="r-in"><span>  repos <span class="op">=</span> <span class="va">repositories</span>, </span></span>
<span class="r-in"><span>  branch_name <span class="op">=</span> <span class="st">"existing-branch"</span>, </span></span>
<span class="r-in"><span>  title <span class="op">=</span> <span class="st">"Fix existing branch"</span>, </span></span>
<span class="r-in"><span>  body <span class="op">=</span> <span class="st">"Apply fixes to existing branch"</span>, </span></span>
<span class="r-in"><span>  file_mapping <span class="op">=</span> <span class="va">mapping</span>,</span></span>
<span class="r-in"><span>  create_branch <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by James Joseph Balamuta.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

